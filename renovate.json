{
  "extends": [
    "config:base"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "fileMatch": ["^component\\.yaml$"],
      "datasourceTemplate": "oci-artifact",
      "matchStrings": [
        "componentReferences:\\s*\\n(?:\\s*-\\s*componentName:\\s*(?<depName>[^\\n]+)\\s*\\n\\s*name:[^\\n]+\\s*\\n\\s*version:\\s*\"(?<currentValue>v?\\d+\\.\\d+(?:\\.\\d+)?)\"\\s*\\n?)*"
      ],
      "versioningTemplate": "semver",
      "depNameTemplate": "{{ depName }}"
    }
  ],
  "customDatasources": {
    "oci-artifact": {
      "defaultRegistryUrlTemplate": "https://ocmtest.common.repositories.cloud.sap/v2/d032990/component-descriptors/{{{ depName }}}/tags/list",
      "transformTemplates": [
        "{ \"releases\": [ {{#each tags}} { \"version\": \"{{this}}\" }{{#unless @last}},{{/unless}}{{/each}} ] }"
      ]
    }
  }
}
